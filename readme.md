# hellonature 포트폴리오
- 솔직히 구조 파악하는데 거의 대부분의 시간을 씀
- 구조는 겁나 잘 암
- 구조 겁나 복잡함

## 개요
- Hellonnature : 신선&가공식품 프리미엄 푸드마켓 (since 2012 ~)
- 기간 : `2017. 05. 22 ~ 현재`
- 역할 : 프론트앤드, Nodejs기반 백앤드
- 사용 기술
    - sonaqube, aws, 각종 SDK, GA, facebook pixel, react, nodejs, express, mysql, php, templateunderbar, 고도몰(웹), html, css, javascript, jquery, 
  
## 주요 업무내용
- 웹, 모바일 페이지 운영 및 유지보수
- php -> nodejs 이전
 
## 일반적인 업무
- 기획전 페이지 제작
- 사이트 운영 업무
- react 유지보수 (장바구니, sidemenu등 )
- 페이지 성능 향상 업무
- php/html(euc-kr) -> nodejs/ejs(utf-8)로 마이그레이션 
- Data base:  php -> API 마이그레이션 
- nodejs 백앤드 영역 작업
- 필요시 API 제작 (mysql)
- 각종 프론트단 기능 추가 및 유지 보수 작업
- Google Analytics
- **코드 리펙토링**

##  php -> nodejs로 마이그레이션
- 개요 : 고도몰 과 php로   운영되던 모바일 페이지를 nodejs기반의 서버로 이전 
- 작업영역 : 프론튼앤드, 백앤드
- 주요 내용 : 아래 참조

##  app.js 마이그레이션
- 개요 : app.js
- 작업 영역 : 백엔드
- 주요 내용 : 각종 라우터, 미들웨어, 에러 처리

## React 로 제작된 페이지 운영 / 유지 보수 (장바구니, 사이드메뉴)
- 개요 : React 페이지 운영
- 작업 영역 : 프론트앤드 (react)
- 주요 내용 : 
    - react page 유지보수 
    - react 내의 network request 순서 정리 (유저정보, 장바구니 정보, 쿠폰정보등에 대한 요청)
    - common helper 스크립트 작성을 통해 각 action에 따른 상태 변경 제어
- 작업 특징 : 
    - react, flux로 제작된 페이지의 리펙토링 및 유지 보수 
    - react 기술 습득

## 아이탬 리스트 페이지 마이그레이션
- 개요 : 아애탬 리스트 페이지 제작
- 작업 영역 : 백엔드, 프론트엔드
- 주요 내용 : 
    - 리스트 페이지를 하나로 통일 (CSS만으로 여러 상황에 적용 가능하도록 함) 
    - 받아오는 데이터에 따라 동적으로 DOM변경
    - 레이지 로딩 처리
    - 페이징 처리
    - sort 기능 추가
    - Ajax 무한 스크롤 기능
    - hisotory객체를 통한 뒤로가기 이슈 해결
    - API작성
    - ID별 권한에 따른 애외, 애러처리
    - 캐쉬적용
- 작업 특징 :
    - 모바일 페이지 트래픽의 반 이상을 마이그레이션 함
    - 캐쉬적용
    - 속도가 기존에 비해 5배이상 빨라짐

## 무한 스크롤 기능 구현
- 개요 : 마이그래이션 과정에서 새롭게 무한 스크롤 기능 구현
- 작업 영역 : 프론트 엔드
- 주요 내용 :
    - 기존의 무한스크롤 기능은 스크롤 후 상품 상세 클릭시 history.state객체에 현재의 모든 DOM 을 저장하는 방식 이었음
    - 바꾼 기능은 history.replacemethod를 사용하여 현재의 페이지와 현재 페이지의 status 를 url로 남김
    - 그리고 뒤로 가기시 expressjs에서 url 값에 따라 적절하게 페이지를 보여줌
- 작업 특징 :
    - 로직이 훨씬 단순해짐
    - 기존에는 사이드 이펙트가 많았으나, 사이드 이펙트가 거의 발생 하지 않음 (브라우저의 native 기능을 사용)

## Category list API 마이그레이션
- 개요 : 상품리스트를 불러오는 API 제작
- 작업 영역 : 백엔드, 프론트엔드
- 주요 내용 : 
    - 일반리스트, 검색결과, 이벤트, 관련상품등 상품 리스트 API 제작
    - 불러오는 컬럼을 통일화 시키고, 데이터를 뿌려주는 프론트 페이지도 통일 시킴으로서 유지 보수에 용이하게 만듬 (기존에는 20여개의 파일이였음)
- 작업 특징 :
    - 제일 공들이고 의미있는 작업
    - 아직 개선의 여지가 많음
    - DB 및 백엔드 분야에 대한 기술을 많이 습득함

## 검색 페이지 마이그레이션
- 개요 : 검색 페이지
- 작업 영역 : 백엔드, 프론트엔드
- 주요 내용 :
    - 아이탬 리스트 페이지를 바탕으로 검색페이지 제작
    - 최근검색어, 인기검색어, 추천검색어 기능 적용
- 작업 특징 :
    - 기존에 있던 인기검색어를 뽑기위한 SQL을 API로 옮기면서 튜닝

## header, footer 마이그레이션
- 개요 : 페이지에서 동시에 사용하는 header footer를 ejs로 제작 후 적용
- 작업 영역 : 백엔드
- 주요 내용 :
    -  각종 SDK 및 Tracking script를 상황별로 적용 (상세, 메인, 장바구니 등)
    -  각 페이지별로 적용되어야 하는 og태그등의 변수 적용
    -  expressjs에서 공통으로 사용되는 local 객체를 정의 (user정보등)
- 작업 특징 :
    - 리펙토링적인 부분이 가장 많이 필요했던 업무

## 기획전 페이지 마이그레이션
- 개요 : 기회전 페이지의 마이그레이션
- 작업 영역 : 백엔드, 프론트엔드
- 주요 내용 :
    - 통일된 양식으로 기회전을 손쉽게 제작 할 수 있도록 format 작성
    - CSS를 위한 클래스 및 각종 인터렉션을 위한 스크립트를 작성하여 공용으로 손쉽게 사용할 수 있도록 적용
- 작업 특징 :
    - 쿠폰 발급 기능, select box를 이용한 스크롤 기능, 이미지 슬라이드 기능 외 다양한 기획전 페이지를 위한 인터렉션 기능 구현

## 기타 공용으로 사용하는 Util 작성 
- 개요 : mysql.js를 제외한 여러 Util함수 작성
- 작업 영역 : 백엔드
- 주요 내용 : 
    - DB에서 가져온 상품 리스트의 데이터를 가공 하는 Util
    - 검색페이지를 위한 Util
    - 유저 정보를 확인하기 위한 Util등의 작성 

## API 마이그레이션
- 개요 : php 페이지로 이루어진 DB호출 및 결과 전달 함수들을 express를 통해 REST 기반의 API로 마이그레이션
- 작업 영역 : 백엔드
- 주요 내용 : 아래 참조  
- 작업 특징 :
    - mysql 기술 습득
    - DB분야 진행중

## member API 마이그레이션
- 개요 : 로그인 로직 마이그레이션
- 작업 영역 : 백엔드
- 주요 내용 : 로그인 했을 경우 로그인 여부를 체크하는 API만듬
- 작업 특징 :
    - 아직 완전한 마이그레이션이 이루어 지지 않았음
    - 따라서 로그인 체크는 두군데에서 진행(PHP-session, nodejs member API-cookies) 
    - 즉, 로그인 상태변화에 따라 php-session업데이트 및 cookie 업데이트
    - 사이드 메뉴는 고도몰 서버 및 item서버에서 항상 php-session을 바라보고 있음 

## GA적용 
- 개요 : GA script을 상태에 따라 동적으로 삽입 (유지보수)
- 작업 영역 : 프론트 앤드
- 주요 내용 : 
    - page tracking 및 event tracking 을 공통된 페이지에 넣고 각 페이지, 이벤트에 따라 수집사이트에 전송
    - page tracking 의 경우 header파일에 삽입
    - event tracking 의 경우 클래스로 제어
- 작업 특징 : 
    - GA 에 대한 심층적인 지식을 얻을 수 있었음

## 모바일 예약배송 기능 리펙토링
- 개요 : 추석기획전 대비 예약배송 기능 보수
- 작업 영역 : 프론트 앤드, datepicker
- 주요 내용 : 
    - 특정상품(추석기획전 전용)에 예약배송 기능 적용
    - php에서 특정 상품임을 알려주는 변수와 예약 배송 날짜를 넘겨 받음 
    - datepicker(jquery UI)를 사용하여 유저가 주어진 범위내에서 예약배송 날짜를 선택 하게 함
    - 예약 배송일자를 php로 넘겨줌
    - 장바구니 벨리데이션 로직 재정리
- 작업 특징 :
    - 기존로직을 최대한 변경하지 않고, 장바구니의 복잡한 코드를 리펙토링
    - 작업 과정에서 datepicker부분 역시 리펙토링
    - 특정상품, 예약배송 가능일자, 예약배송 기능 적용 일자, 예약배송 불가 상품 포함 유무등 수가지의 경우를 고려 하여 작업

## 웹페이지 리뉴얼
- 개요 : 헬로네이처 웹 페이지 리뉴얼 작업
- 작업 영역 : 프론트 앤드
- 주요 내용 : 
    - CSS 전면 수정 및 DOM구조 변경
    - 웹의 모든페이지에 해당
    - 고도몰에서 사용중인 탬플릿 언더바의 사용법 익힘
    - 1920px 사이즈에 맞춰 작업
- 작업 특징 :
    - 입사후 처음 진행 했던 대규모 작업으로 페이지의 구조 파악을 할 수 있었음

## 모바일 모달 형식의 팝업창 기능 리펙토링
- 개요 : 수십개의 팝업 레이어(모달창) 관리가 힘들어 리펙토링 진행
- 작업 영역 : 프론트 앤드
- 주요 내용 :
    - 수십개의 팝업 레이어를 열고, 닫고, 일정기간 열지 않고의 기능을 namespace를 활용한 함수를 만들어 손쉽게 제어
    - 쿠키를 활용함
    - 몇개의 스타일을 지정하여 CSS 통일 (디자인 팀과 협의)

## 2017 추석 기획전 페이지
- 개요 : 2017 추석 기획전 페이 작성
- 작업 영역 : 프론트 앤드
- 주요 내용 :
    - 수십개의 팝업 레이어를 열고, 닫고, 일정기간 열지 않고의 기능을 namespace를 활용한 함수를 만들어 손쉽게 제어
    - 쿠키를 활용함
    - 몇개의 스타일을 지정하여 CSS 통일 (디자인 팀과 협의)

## 상품 상세 DB에 입력 정보 추가
- 개요 : 
    - 관리자 페이지에서 상품 상세에 대한 새로운 정보를 입력
    - DB 테이블 수정 
    - 프론트단에서 상품리스트를 뿌릴때 해당 정보 가져옴
    - 백엔드 부분은 고도몰 솔루션 사용
- 작업 영역 : 프론트 앤드, DB, 고도몰 솔루션
- 주요 내용 :
    - 관리자 페이지 수정
    - DB 수정
    - 프론트 수정 
- 주요 내용 : 
    - 첫 백엔드 작업
    - 임의로 php를 조작하기 보다는 고도몰 솔루션을 활용 하랴ㅕ고 노력 함 


